<div class="highlight"><pre>	<span class="cm">/**</span>
<span class="cm">     * Enumeration that defines all togglable features for parsers.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">enum</span> <span class="n">Feature</span> <span class="o">{</span>

        <span class="c1">// // // Low-level I/O handling features:</span>

        <span class="cm">/**</span>
<span class="cm">         * 这个特性，决定了解析器是否将自动关闭那些不属于parser自己的输入源。 如果禁止，则调用应用不得不分别去关闭那些被用来创建parser的基础输入流InputStream和reader；</span>
<span class="cm">         * 如果允许，parser只要自己需要获取closed方法（当遇到输入流结束，或者parser自己调用 JsonParder#close方法），就会处理流关闭。</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：这个属性默认是true，即允许自动关闭流</span>
<span class="cm">         *</span>
<span class="cm">         */</span>
        <span class="n">AUTO_CLOSE_SOURCE</span><span class="o">(</span><span class="kc">true</span><span class="o">),</span>

        <span class="c1">// // // Support for non-standard data format constructs</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性决定parser将是否允许解析使用Java/C++ 样式的注释（包括&#39;/&#39;+&#39;*&#39; 和&#39;//&#39; 变量）。 由于JSON标准说明书上面没有提到注释是否是合法的组成，所以这是一个非标准的特性；</span>
<span class="cm">         * 尽管如此，这个特性还是被广泛地使用。</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：该属性默认是false，因此必须显式允许，即通过JsonParser.Feature.ALLOW_COMMENTS 配置为true。</span>
<span class="cm">         *</span>
<span class="cm">         */</span>
        <span class="n">ALLOW_COMMENTS</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 这个特性决定parser是否将允许使用非双引号属性名字， （这种形式在Javascript中被允许，但是JSON标准说明书中没有）。</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：由于JSON标准上需要为属性名称使用双引号，所以这也是一个非标准特性，默认是false的。</span>
<span class="cm">         * 同样，需要设置JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES为true，打开该特性。</span>
<span class="cm">         *</span>
<span class="cm">         */</span>
        <span class="n">ALLOW_UNQUOTED_FIELD_NAMES</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性决定parser是否允许单引号来包住属性名称和字符串值。</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：默认下，该属性也是关闭的。需要设置JsonParser.Feature.ALLOW_SINGLE_QUOTES为true</span>
<span class="cm">         *</span>
<span class="cm">         */</span>
        <span class="n">ALLOW_SINGLE_QUOTES</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性决定parser是否允许JSON字符串包含非引号控制字符（值小于32的ASCII字符，包含制表符和换行符）。 如果该属性关闭，则如果遇到这些字符，则会抛出异常。</span>
<span class="cm">         * JSON标准说明书要求所有控制符必须使用引号，因此这是一个非标准的特性。</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：默认时候，该属性关闭的。需要设置：JsonParser.Feature.ALLOW_UNQUOTED_CONTROL_CHARS为true。</span>
<span class="cm">         *</span>
<span class="cm">         */</span>
        <span class="n">ALLOW_UNQUOTED_CONTROL_CHARS</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性可以允许接受所有引号引起来的字符，使用‘反斜杠\’机制：如果不允许，只有JSON标准说明书中 列出来的字符可以被避开约束。</span>
<span class="cm">         *</span>
<span class="cm">         * 由于JSON标准说明中要求为所有控制字符使用引号，这是一个非标准的特性，所以默认是关闭的。</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：一般在设置ALLOW_SINGLE_QUOTES属性时，也设置了ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER属性，</span>
<span class="cm">         * 所以，有时候，你会看到不设置ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER为true，但是依然可以正常运行。</span>
<span class="cm">         *</span>
<span class="cm">         * @since 1.6</span>
<span class="cm">         */</span>
        <span class="n">ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性决定parser是否允许JSON整数以多个0开始(比如，如果000001赋值给json某变量，</span>
<span class="cm">         * 如果不设置该属性，则解析成int会抛异常报错：org.codehaus.jackson.JsonParseException: Invalid numeric value: Leading zeroes not</span>
<span class="cm">         * allowed)</span>
<span class="cm">         *</span>
<span class="cm">         * 注意：该属性默认是关闭的，如果需要打开，则设置JsonParser.Feature.ALLOW_NUMERIC_LEADING_ZEROS为true。</span>
<span class="cm">         *</span>
<span class="cm">         * @since 1.8</span>
<span class="cm">         */</span>
        <span class="n">ALLOW_NUMERIC_LEADING_ZEROS</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性允许parser可以识别&quot;Not-a-Number&quot; (NaN)标识集合作为一个合法的浮点数。 例如： allows (tokens are quoted contents, not including</span>
<span class="cm">         * quotes):</span>
<span class="cm">         * &lt;ul&gt;</span>
<span class="cm">         * &lt;li&gt;&quot;INF&quot; (for positive infinity), as well as alias of &quot;Infinity&quot;</span>
<span class="cm">         * &lt;li&gt;&quot;-INF&quot; (for negative infinity), alias &quot;-Infinity&quot;</span>
<span class="cm">         * &lt;li&gt;&quot;NaN&quot; (for other not-a-numbers, like result of division by zero)</span>
<span class="cm">         * &lt;/ul&gt;</span>
<span class="cm">         */</span>

        <span class="n">ALLOW_NON_NUMERIC_NUMBERS</span><span class="o">(</span><span class="kc">false</span><span class="o">),</span>

        <span class="c1">// // // Controlling canonicalization (interning etc)</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性决定JSON对象属性名称是否可以被String#intern 规范化表示。</span>
<span class="cm">         *</span>
<span class="cm">         * 如果允许，则JSON所有的属性名将会 intern() ；如果不设置，则不会规范化，</span>
<span class="cm">         *</span>
<span class="cm">         * 默认下，该属性是开放的。此外，必须设置CANONICALIZE_FIELD_NAMES为true</span>
<span class="cm">         *</span>
<span class="cm">         * 关于intern方法作用：当调用 intern 方法时，如果池已经包含一个等于此 String 对象的字符串 （该对象由 equals(Object) 方法确定），则返回池中的字符串。否则，将此 String</span>
<span class="cm">         * 对象添加到池中， 并且返回此 String 对象的引用。</span>
<span class="cm">         *</span>
<span class="cm">         * @since 1.3</span>
<span class="cm">         */</span>
        <span class="n">INTERN_FIELD_NAMES</span><span class="o">(</span><span class="kc">true</span><span class="o">),</span>

        <span class="cm">/**</span>
<span class="cm">         * 该特性决定JSON对象的属性名称是否被规范化。</span>
<span class="cm">         *</span>
<span class="cm">         * @since 1.5</span>
<span class="cm">         */</span>
        <span class="n">CANONICALIZE_FIELD_NAMES</span><span class="o">(</span><span class="kc">true</span><span class="o">),</span>

        <span class="o">;</span>

        <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">_defaultState</span><span class="o">;</span>

        <span class="cm">/**</span>
<span class="cm">         * Method that calculates bit set (flags) of all features that are enabled by default.</span>
<span class="cm">         */</span>
        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">collectDefaults</span><span class="o">()</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">Feature</span> <span class="n">f</span> <span class="o">:</span> <span class="n">values</span><span class="o">())</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">enabledByDefault</span><span class="o">())</span> <span class="o">{</span>
                    <span class="n">flags</span> <span class="o">|=</span> <span class="n">f</span><span class="o">.</span><span class="na">getMask</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">return</span> <span class="n">flags</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">private</span> <span class="nf">Feature</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">defaultState</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">_defaultState</span> <span class="o">=</span> <span class="n">defaultState</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">enabledByDefault</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">_defaultState</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">enabledIn</span><span class="o">(</span><span class="kt">int</span> <span class="n">flags</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">(</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="n">getMask</span><span class="o">())</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getMask</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">ordinal</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">};</span>
</pre></div>